<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class=" js history"><head><script src="navfn%20algorism%20-%20ROS%20Answers%20%20Open%20Source%20Q&amp;A%20Forum-Dateien/cbgapi.loaded_1" async=""></script><script src="navfn%20algorism%20-%20ROS%20Answers%20%20Open%20Source%20Q&amp;A%20Forum-Dateien/cbgapi.loaded_0" async=""></script> <title>navfn algorism - ROS Answers: Open Source Q&amp;A Forum</title> <meta name="description" content="Hi! I am using the navfn. The algorithm works perfectly for me, but I would like to know whether there is any documentation about how it works. And I'd like to understand the quadratic approximation. link: http://www.ros.org/doc/diamondback/api/navfn/html/navfn_8cpp_source.html#l00473&quot;&gt;http://www.ros.org/doc/diamondback/api/navfn/html/navfn_8cpp_source.html#l00473 00507 // use quadratic approximation 00508 // might speed this up through table lookup, but still have to 00509 // do the divide 00510 float d = dc/hf; 00511 float v = -0.2301 * d * d + 0.5307 * d + 0.7040; 00512 pot = ta + hf * v; Thanks in advance!"> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=EDGE"> <meta name="keywords" content=",ROS,forum,community"> <meta name="google-site-verification" content="CjkdY6BqKWAVmQ78_iSq6J7ZZ9AoL7-CjFVBYGg9FU4"> <meta name="referrer" content="always"> <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"> <link rel="shortcut icon" href="https://answers.ros.org/m/ros/media/images/ros_favicon.gif?v=27"> <link rel="alternate" type="application/rss+xml" href="http://answers.ros.org/feeds/rss/"> <link rel="stylesheet" href="navfn%20algorism%20-%20ROS%20Answers%20%20Open%20Source%20Q&amp;A%20Forum-Dateien/ed0aed859c34.css" type="text/css"> <link href="navfn%20algorism%20-%20ROS%20Answers%20%20Open%20Source%20Q&amp;A%20Forum-Dateien/css_002.css" rel="stylesheet" type="text/css"> <link href="navfn%20algorism%20-%20ROS%20Answers%20%20Open%20Source%20Q&amp;A%20Forum-Dateien/css.css" rel="stylesheet" type="text/css"> <link rel="canonical" href="http://answers.ros.org/question/11388/navfn-algorism/"> <link rel="stylesheet" type="text/css" href="navfn%20algorism%20-%20ROS%20Answers%20%20Open%20Source%20Q&amp;A%20Forum-Dateien/wmd.css"> <script type="text/javascript" async="" src="navfn%20algorism%20-%20ROS%20Answers%20%20Open%20Source%20Q&amp;A%20Forum-Dateien/recaptcha__en.js"></script><script type="text/javascript" src="navfn%20algorism%20-%20ROS%20Answers%20%20Open%20Source%20Q&amp;A%20Forum-Dateien/modernizr.js"></script> <script type="text/javascript">
    var askbot = {};
    askbot['data'] = {};
    askbot['data']['userIsAuthenticated'] = false;
    askbot['data']['languageCode'] = 'en';
    
        askbot['data']['userReputation'] = 0;
        askbot['data']['userEmail'] = null;
        askbot['data']['userIsReadOnly'] = false;//in principle we allow anon users to start posting
    
    askbot['urls'] = {};
    askbot['settings'] = {};
    askbot['messages'] = {};
    
</script> <script type="text/javascript" src="navfn%20algorism%20-%20ROS%20Answers%20%20Open%20Source%20Q&amp;A%20Forum-Dateien/a"></script> <script type="text/javascript">
        /*<![CDATA[*/
        //below is pure cross-browser javascript, no jQuery
        askbot['data']['userIsThreadModerator'] = false;
        askbot['data']['oldestAnswerId'] = 16891;
        askbot['data']['threadIsClosed'] = false;
        
        (function(){

            var hasClass = function(node, selector) {
                var classes = (" " + node.className + " ").split(' ');
                for (var i = 0; i < classes.length; i++) {
                    if (classes[i] === selector) {
                        return true;
                    }
                }
                return false;
            }

            var findClosestParentByClassName = function(node, className) {
                if (hasClass(node, className)) {
                    return node;
                }
                if (node.nodeName === 'BODY') {
                    return false;
                } else {
                    return findClosestParentByClassName(node.parentNode, className);
                }
            };

            var findChildrenByClassName = function(node, className) {
                var nodes = [];
                var walk = function(node) {
                    if (hasClass(node, className)) {
                        nodes.push(node);
                    }
                    if (node.childNodes) {
                        for (var i=0; i < node.childNodes.length; i++) {
                            walk(node.childNodes[i]);
                        }
                    }
                };
                walk(node);
                return nodes;
            };

            var getTextContent = function(node) {
                var text = node.innerText || node.textContent;
                if (text === undefined) {
                    return '';
                } else {
                    return text;
                }
            };

            var hasAttribute = function(node, attrName) {
                if (node.hasAttribute) {
                    return node.hasAttribute(attrName);
                } else {
                    return (!(!(node.getAttribute(attrName))));
                }
            };

            var findChildByAttribute = function(node, attrName, attrVal) {
                var children = node.childNodes;
                for (var i = 0; i < children.length; i++) {
                    var child = children[i];
                    if (child.getAttribute(attrName) === attrVal) {
                        return child;
                    }
                };
                return null;
            };

            var postIsComment = function(postId) {
                if (document.getElementById('comment-' + postId)) {
                    return true;
                }
                return false;
            };

            var getPost = function(postId) {
                return document.getElementById('post-id-' + postId);
            }

            var postIsQuestion = function(postId) {
                var content = getPost(postId);
                if (content) {
                    if (hasClass(content, 'js-comment')) {
                        return false;
                    }
                    if (findClosestParentByClassName(content, 'js-question')) {
                        return true;
                    }
                }
                return false;
            };

            var removeNode = function(node) {
                node.parentNode.removeChild(node);
            };

            var trim = function(text) {
                return text.replace(/^\s+|\s+$/g, '');
            };

            var data = askbot['data'];
            var isAuthorOfPost = function(post_id) {
                return (data['user_posts'] && data['user_posts'][post_id]);
            };

            if (data['userIsAuthenticated']){
                var votes = {};
                
                data['user_votes'] = votes;
                var posts = {};
                
                data['user_posts'] = posts;
            }

            function render_vote_buttons(post_type, post_id){
                var upvote_btn = document.getElementById(
                    post_type + '-img-upvote-' + post_id
                );
                var downvote_btn = document.getElementById(
                    post_type + '-img-downvote-' + post_id
                );
                if (data['userIsAuthenticated']){
                    if (post_id in data['user_votes']){
                        var vote = data['user_votes'][post_id];
                        if (vote == -1){
                            var btn = downvote_btn;
                        } else if (vote == 1){
                            var btn = upvote_btn;
                        } else {
                            return;
                        }
                        if (post_type == 'comment'){
                            btn.className = btn.className + ' upvoted';
                        } else {
                            btn.className = btn.className + ' on';
                        }
                    }
                }
            }

            function hide_convert_answer_links(post_id){
                var id1 = 'post-' + post_id + '-convert';//for repost as Q comment
                var repostAsQuestionComment = document.getElementById(id1);
                var id2 = 'post-' + post_id + '-repost-as-comment-under-previous-answer';
                var repostAsPrevAnsComment = document.getElementById(id2);
                var extraOptsList = repostAsQuestionComment.parentNode;
                var extraOpts = extraOptsList.parentNode;

                var isAuthenticated = data['userIsAuthenticated'];
                var isMod = data['userIsAdminOrMod'];
                if (isAuthenticated && (isMod || isAuthorOfPost(post_id))) {
                    //still may need to hide because answer may be too long
                    var answer_container = getPost(post_id);
                    var answerBody = findChildrenByClassName(answer_container, 'post-body')[0];
                    //todo: this is not reliable
                    var answerBodyNodes = answerBody.childNodes;
                    var answerElement = answerBodyNodes[answerBodyNodes.length - 1];
                    if (trim(getTextContent(answerElement)).length > askbot['data']['maxCommentLength']) {
                        repostAsQuestionComment.parentNode.removeChild(repostAsQuestionComment);
                        repostAsPrevAnsComment.parentNode.removeChild(repostAsPrevAnsComment);
                    } else if (parseInt(post_id) === data['oldestAnswerId']) {
                        repostAsPrevAnsComment.parentNode.removeChild(repostAsPrevAnsComment);
                    }
                } else {
                    repostAsQuestionComment.parentNode.removeChild(repostAsQuestionComment);
                    repostAsPrevAnsComment.parentNode.removeChild(repostAsPrevAnsComment);
                }

                //if the whole control is empty - remove it
                if (extraOptsList.getElementsByTagName('li').length === 0) {
                    extraOpts.parentNode.removeChild(extraOpts);
                }
            }

            function hidePublishAnswerLink(postId) {
                if (data['userIsThreadModerator'] === false) {
                    //hide publish/unpublish answer links
                    var answerId = 'post-' + postId + '-publish';
                    var pubBtn = document.getElementById(answerId);
                    if (pubBtn) {
                        removeNode(pubBtn);
                    }
                }
            }

            function remove_all_controls(post_id) {
                var deleteBtn = document.getElementById('post-' + post_id + '-delete');
                var controls = deleteBtn.parentNode;
                if (controls.className == 'comment-content') {
                    removeNode(deleteBtn);
                    var convertLinks = findChildrenByClassName(controls, 'convert-comment');
                    if (convertLinks.length) {
                        removeNode(convertLinks[0]);
                    }
                    var editLinks = findChildrenByClassName(controls, 'edit');
                    if (editLinks.length) {
                        removeNode(editLinks[0]);
                    }
                } else {
                    var buttons = controls.childNodes;
                    var numButtons = buttons.length;
                    for (var i = numButtons - 1; i >= 0; i--) {
                        removeNode(buttons[i]);
                    }
                }
            };

            function render_post_controls(post_id, is_wiki){

                //in this case remove all post controls
                if (askbot['settings']['readOnlyModeEnabled'] === true) {
                    remove_all_controls(post_id);
                    return;
                }

                var deleteBtn = document.getElementById('post-' + post_id + '-delete');
                var controls = deleteBtn.parentNode;
                var mergeBtn = findChildrenByClassName(controls, 'question-merge');
                if (mergeBtn.length === 1 && data['userIsThreadModerator'] === false) {
                    removeNode(mergeBtn[0]);
                }

                if (data['userIsAdminOrMod']) {
                    return;//all remaining functions stay on
                }

                

                if (isAuthorOfPost(post_id)) {
                    if (postIsQuestion(post_id) && 1) {
                        if (data['userReputation'] < 1) {
                            if (!data['userIsAdminOrMod']) {
                                removeNode(deleteBtn);
                            }
                        }
                    }
                    //todo: remove edit button from older comments
                    return;
                }

                if (//maybe remove "delete" button
                    (data['userReputation'] <
                    200) || data['userIsReadOnly']
                ) {
                    removeNode(deleteBtn);
                }

                var canFlagPosts = data['userReputation'] >= 5;
                var flags = findChildrenByClassName(controls, 'question-flag');
                if (flags.length > 0 && !canFlagPosts) {
                    for (var i = 0; i < flags.length; i++) {
                        removeNode(flags[i]);
                    }
                }
                var closeBtn = findChildrenByClassName(controls, 'question-close');
                if (
                    closeBtn.length === 1 &&
                    (
                        (data['userReputation'] < 200) ||
                        data['userIsReadOnly']
                    )
                ) {
                    removeNode(closeBtn[0]);
                }
                var enoughRep = (data['userReputation'] >= 500 ||
                        (is_wiki && data['userReputation'] >= 75));
                if (//maybe remove "edit" button
                    !enoughRep || data['userIsReadOnly']//only authors edit comments
                ){
                    var editBtns = findChildrenByClassName(getPost(post_id), 'js-edit');
                    var numBtns = editBtns.length;
                    for (var i=0; i<numBtns; i++) {
                        removeNode(editBtns[i]);
                    }
                }
                if (//maybe remove retag button
                    (!isAuthorOfPost(post_id)) &&
                    postIsQuestion(post_id) &&
                    ((data['userReputation'] <
                    100) ||
                    data['userIsReadOnly'])
                ){
                    var retagBtn = document.getElementById('retag');
                    if (retagBtn) {
                        removeNode(retagBtn);
                    }
                }
            }

            function render_add_answer_button(){
                var add_answer_btn = document.getElementById('add-answer-btn');
                if (askbot['data']['userIsAuthenticated']){
                    if (askbot['data']['userId'] == 1151){
                        add_answer_btn.className += ' answer-own-question';
                        add_answer_btn.setAttribute(
                            'value',
                            'Answer Your Own Question'
                        )
                    } else {
                        add_answer_btn.setAttribute(
                           'value',
                           'Post Your Answer'
                        )
                    }
                } else {
                    add_answer_btn.setAttribute(
                        'value',
                        'Login/Signup to Post'
                    );
                }
            }

            function hide_convert_links() {
                var isAuthenticated = data['userIsAuthenticated'];
                var isMod = data['userIsAdminOrMod'];
                if (isAuthenticated && isMod) {
                    return;
                }
                var convertForms = findChildrenByClassName(document, 'convert-comment');
                for (var i = 0; i < convertForms.length; i++) {
                    //get comment id
                    var form = convertForms[i];
                    var idInput = findChildByAttribute(form, 'name', 'comment_id');
                    var commentId = idInput.getAttribute('value');
                    if (! isAuthorOfPost(commentId) ) {
                        form.setAttribute('style', 'display:none;');
                    }
                }
            }

            askbot['functions'] = askbot['functions'] || {};
            askbot['functions']['renderPostVoteButtons'] = render_vote_buttons;
            askbot['functions']['renderPostControls'] = render_post_controls;
            askbot['functions']['renderAddAnswerButton'] = render_add_answer_button;
            askbot['functions']['hideConvertLinks'] = hide_convert_links;
            askbot['functions']['hideConvertAnswerLinks'] = hide_convert_answer_links;
            askbot['functions']['hidePublishAnswerLink'] = hidePublishAnswerLink;
        })();
        /*]]>*/
    </script> </head> <body class="two-col question-page anon lang-en"> <div class="notify" style="display:none"> <div class="content-wrapper"> <a id="closeNotify" onclick="notify.close(true)"></a> </div> </div> <div id="custom-header"> <div align="center"> <br> <table id="topnav-table"> <tbody><tr> <td valign="middle">
              ROS Resources: 
            <a href="http://wiki.ros.org/">Documentation</a>
            |
            <a href="http://wiki.ros.org/Support">Support</a>
            |
            <a href="http://discourse.ros.org/">Discussion Forum</a>
            |
            <a href="http://status.ros.org/">Service Status</a>
            |
            <a href="http://answers.ros.org/">Q&amp;A answers.ros.org</a> </td> </tr> </tbody></table> <!-- topnav-table --> </div> </div> <!-- template header.html --> <div id="header" class="with-logo"> <div class="content-wrapper"> <div id="userToolsNav"> <a href="https://answers.ros.org/account/signin/?next=/question/11388/navfn-algorism/">Hi there! Please sign in</a> <a class="help" href="https://answers.ros.org/help/" title="help">help</a> </div> <a id="logo" href="https://answers.ros.org/questions/"><img src="navfn%20algorism%20-%20ROS%20Answers%20%20Open%20Source%20Q&amp;A%20Forum-Dateien/logoros.png" alt="ROS Answers logo"> </a> <div id="metaNav"> <a id="navTags" href="https://answers.ros.org/tags/">tags</a> <a id="navUsers" href="https://answers.ros.org/users/">users</a> <a id="navBadges" href="https://answers.ros.org/badges/">badges</a> </div> <div class="clean"></div> </div> </div> <!-- end template header.html --> <!-- template secondary_header.html --> <div id="secondaryHeader"> <div class="content-wrapper"> <form action="/questions/" id="searchForm" class="scopes-True-True-False" method="get"> <table width="100%"> <tbody><tr> <td width="1"><a id="homeButton" href="https://answers.ros.org/questions/"><i class="fa fa-home"></i></a></td> <td width="1"><div id="scopeNav"> <a class="scope-selector " href="https://answers.ros.org/questions/scope:all/sort:activity-desc/page:1/">ALL</a> <a class="scope-selector " href="https://answers.ros.org/questions/scope:unanswered/sort:answers-asc/page:1/">UNANSWERED</a> </div></td> <td class="search-bar" width="*"> <div id="searchBar" class="search-bar"><input class="searchInput" autocomplete="off" name="query" placeholder="Search or ask your question" id="keywords" type="text"><input value="" name="search" class="searchBtn" type="submit"><input value="X" name="reset_query" class="cancelSearchBtn" style="display: none;" type="button"><div class="search-drop-menu empty" style="display: none;"><ul></ul><div class="wait-icon-box" style="display: none;"><img src="navfn%20algorism%20-%20ROS%20Answers%20%20Open%20Source%20Q&amp;A%20Forum-Dateien/ajax-loader.gif"></div><div class="footer"><button class="submit btn btn-default">Ask Your Question</button></div></div></div> </td> <td width="1"> <a id="askButton" class="button" href="https://answers.ros.org/questions/ask/">
            Ask Your Question
        </a> </td> </tr> </tbody></table> </form> </div> </div> <div class="content-wrapper"> <div id="ContentLeft"> <div class="banner"> </div> <div class="post js-question" data-post-id="11388"> <div class="vote-buttons"> <div id="question-img-upvote-11388" class="question-img-upvote post-vote upvote"> </div> <div id="question-vote-number-11388" class="vote-number" title="current number of votes">2</div> <div id="question-img-downvote-11388" class="question-img-downvote post-vote downvote"> </div> <script type="text/javascript">
    askbot['functions']['renderPostVoteButtons']('question', '11388');
</script> <a class="twitter-share icon" title="Share this content on twitter"></a> <a class="facebook-share icon" title="Share this content on facebook"></a> <a class="linkedin-share icon" title="Share this content on linkedin"></a> <a class="identica-share icon" title="Share this content on identica"></a> <div style="text-indent: 0px; margin: 0px; padding: 0px; background: transparent none repeat scroll 0% 0%; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 24px; height: 15px;" id="___plusone_0"><iframe ng-non-bindable="" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: static; top: 0px; width: 24px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 15px;" tabindex="0" vspace="0" id="I0_1512036226970" name="I0_1512036226970" src="navfn%20algorism%20-%20ROS%20Answers%20%20Open%20Source%20Q&amp;A%20Forum-Dateien/fastbutton.html" data-gapiattached="true" title="G+" width="100%" frameborder="0"></iframe></div> </div> <div id="post-id-11388" class="post-content"> <h1 class="js-editable" id="js-question-title-11388" data-get-text-url="/s/get-question-title/?question_id=11388" data-save-text-url="/s/set-question-title/?question_id=11388" data-save-text-param-name="title" data-validated-text-param-name="title" data-min-lines="1" data-editor-type="plain" data-validator="askbot.validators.titleValidator"><div class="js-error"></div> <div class="js-editable-content">navfn algorism</div><div style="display: none;"><div class="js-simple-editor"><textarea cols="60" rows="10" maxlength="1000"></textarea><pre class="mirror"></pre></div></div> <div class="js-editable-controls">  <button style="display: none;">save</button><button style="display: none;">cancel</button></div> </h1> <ul id="question-tags" class="tags post-tags tags"> <li> <div class="js-tag "><a class="js-tag-name" rel="tag" href="https://answers.ros.org/questions/scope:all/sort:activity-desc/tags:navfn/page:1/" data-tag-name="navfn">navfn</a></div> </li> </ul> <div class="clearfix"></div> <div class="post-body"> <div class="js-editable-hide-post-body-11388"> <div class="post-update-info-container"> <div class="post-update-info"> <p style="line-height:12px;"> <a href="https://answers.ros.org/questions/11388/revisions/"><strong>
    
        
        asked <abbr class="timeago" title="2011-10-01 17:31:12 -0600" style="display: inline;">Oct 2 '11</abbr> </strong></a> </p> <div class="user-card"> <a class="js-avatar-box" href="https://answers.ros.org/users/1151/haru/"><img class="js-avatar gravatar" src="navfn%20algorism%20-%20ROS%20Answers%20%20Open%20Source%20Q&amp;A%20Forum-Dateien/nophoto.png" title="haru" alt="haru gravatar image" style="max-width: 685px; height: auto;" width="32" height="32"></a> <div class="user-info"> <a href="https://answers.ros.org/users/1151/haru/">haru</a> <br> <span class="reputation-score">21</span> <span class="badges" title="haru has one gold badge, one silver badge and 3 bronze badges"> <span class="badge1">●</span><span class="badgecount">1</span> <span class="badge2">●</span><span class="badgecount">1</span> <span class="badge3">●</span><span class="badgecount">3</span> </span> </div> </div> </div> </div> </div> <div class="js-editable" id="js-post-body-11388" data-get-text-url="/s/get-post-body/?post_id=11388" data-save-text-url="/s/set-post-body/?post_id=11388" data-save-text-param-name="body_text" data-validated-text-param-name="body_html" data-min-lines="10" data-editor-type="markdown" data-validator="askbot.validators.questionDetailsValidator"><div class="js-error"></div> <div class="js-editable-content"><p>Hi!</p> <p>I
 am using the navfn. The algorithm works perfectly for me, but I would 
like to know whether there is any documentation about how it works.</p><p></p> <p>And I'd like to understand the quadratic approximation.</p><p></p> <p></p><blockquote>
link: <a href="http://www.ros.org/doc/diamondback/api/navfn/html/navfn_8cpp_source.html#l00473" title="&lt;a href=">http://www.ros.org/doc/diamondback/api/navfn/html/navfn_8cpp_source.html#l00473</a>"&gt;<a href="http://www.ros.org/doc/diamondback/api/navfn/html/navfn_8cpp_source.html#l00473">http://www.ros.org/doc/diamondback/api/navfn/html/navfn_8cpp_source.html#l00473</a> <p> 
00507           // use quadratic approximation <br>
00508           // might speed this up through table lookup, but still have to <br>
00509           //   do the divide <br>
00510           float d = dc/hf; <br>
00511           <strong>float v = -0.2301 * d * d + 0.5307 * d + 0.7040;</strong> <br>
00512           pot = ta + hf * v;  </p> <p></p></blockquote>
Thanks in advance!<p></p> </div><div style="display: none;"><div><div class="clearfix"></div><div class="wmd-container"><div id="wmd-button-bar-1" class="wmd-panel"></div><textarea id="editor-1"></textarea><pre class="mirror"></pre><div class="on-state wmd-previewer-toggle">Preview: (hide)</div><div id="previewer-1" class="wmd-preview"></div></div></div></div> <div class="js-editable-controls"><button style="display: none;">save</button><button style="display: none;">cancel</button></div> </div> </div> <div id="question-controls" class="post-controls">   <span id="question-offensive-flag-11388" class="offensive-flag" title="report as offensive (i.e containing spam, advertising, malicious text, etc.)">  </span>    <script type="text/javascript">
    askbot['functions']['renderPostControls']('11388');
</script> </div> <div class="comments empty ordering-forward" data-parent-post-type="question" data-parent-post-id="11388"><div class="content"></div><div class="controls"><a class="js-open-editor-btn">add a comment</a></div></div> </div> </div> <div class="clean"></div> <div class="tabBar tabBar-answer"> <h2 id="questionCount"> <span class="count">1</span> Answer
    </h2> <div class="tabsA"> <span class="label">
                    Sort by »
                    </span> <a id="oldest" href="https://answers.ros.org/question/11388/navfn-algorism/?sort=oldest#sort-top"><span>oldest</span></a> <a id="latest" href="https://answers.ros.org/question/11388/navfn-algorism/?sort=latest#sort-top"><span>newest</span></a> <a id="votes" href="https://answers.ros.org/question/11388/navfn-algorism/?sort=votes#sort-top" classname="on"><span>most voted</span></a> </div> </div> <div class="clean"></div> <div class="pager"> </div> <div class="clean"></div> <a name="16891"></a> <a class="old_answer_id_anchor" name="3890"></a> <div id="post-id-16891" data-post-id="16891" class="post answer accepted-answer  "> <div class="vote-buttons"> <div id="answer-img-upvote-16891" class="answer-img-upvote post-vote upvote"> </div> <div id="answer-vote-number-16891" class="vote-number" title="current number of votes">11</div> <div id="answer-img-downvote-16891" class="answer-img-downvote post-vote downvote"> </div> <script type="text/javascript">
    askbot['functions']['renderPostVoteButtons']('answer', '16891');
</script> <div id="answer-img-accept-16891" class="answer-img-accept" title="this answer has been selected as correct"></div> </div> <div class="post-content"> <div class="post-body"> <div class="js-editable-hide-post-body-16891"> <div class="post-update-info-container"> <div class="post-update-info"> <p style="line-height:12px;"> <a href="https://answers.ros.org/answers/16891/revisions/"><strong>
    
        
        answered <abbr class="timeago" title="2011-10-03 02:15:56 -0600" style="display: inline;">Oct 3 '11</abbr> </strong></a> </p> <div class="user-card"> <a class="js-avatar-box" href="https://answers.ros.org/users/635/dimitriprosser/"><img class="js-avatar gravatar" src="navfn%20algorism%20-%20ROS%20Answers%20%20Open%20Source%20Q&amp;A%20Forum-Dateien/77f3de0c0957ba9438ef4d9c852a4b63.jpg" title="DimitriProsser" alt="DimitriProsser gravatar image" style="max-width: 685px; height: auto;" width="32" height="32"></a> <div class="user-info"> <a href="https://answers.ros.org/users/635/dimitriprosser/">DimitriProsser</a> <img class="flag" src="navfn%20algorism%20-%20ROS%20Answers%20%20Open%20Source%20Q&amp;A%20Forum-Dateien/us.gif" alt="flag of United States of America" title="DimitriProsser is from United States of America" style="max-width: 685px; height: auto;"> <br> <span class="reputation-score">10028</span> <span class="badges" title="DimitriProsser has 69 gold badges, 109 silver badges and 166 bronze badges"> <span class="badge1">●</span><span class="badgecount">69</span> <span class="badge2">●</span><span class="badgecount">109</span> <span class="badge3">●</span><span class="badgecount">166</span> </span> </div> </div> </div> </div> </div> <div class="js-editable" id="js-post-body-16891" data-get-text-url="/s/get-post-body/?post_id=16891" data-save-text-url="/s/set-post-body/?post_id=16891" data-save-text-param-name="body_text" data-validated-text-param-name="body_html" data-min-lines="10" data-editor-type="markdown" data-validator="askbot.validators.answerValidator"><div class="js-error"></div> <div class="js-editable-content"><p>Navfn
 uses Dijkstra's algorithm to search through the available working area 
and find the best path. What this means is that navfn uses breadth-first
 search to check the costmap cells for the optimal path. It begins at 
the robot's origin and radiates outward, checking each non-obstacle cell
 in turn until the goal is reached. You can find a primer on Dijkstra's 
algorithm <a href="http://en.wikipedia.org/wiki/Dijkstra's_algorithm">here</a>.</p> <p>Navfn's
 optimal path is based on a path's "potential". The potential is the 
relative cost of a path based on the distance from the goal and from the
 existing path itself. It must be noted that Navfn update's each cell's 
potential in the potential map, or potarr as it's called in navfn, as it
 checks that cell. This way, it can step back through the potential 
array to find the best possible path. The potential is determined by the
 cost of traversing a cell (traversability factor, hf) and the distance 
away that the next cell is from the previous cell.</p> <p>The section of
 code that you posted occurs during the update of a given cell during 
traversal. The quadratic approximation is used to overcome the 
limitation that navfn's potential array is four-connected, i.e. it only 
checks it's top, right, left, and bottom neighbors and not the 
diagonals. For example, in the section of code that you posted, <code>tc</code> is defined as the cell with the lowest of either the left cell or the right cell, and <code>ta</code>
 is the lowest of the top cell or the bottom cell. It then calculates 
the relative cost between these two cells. Then, the algorithm checks to
 see if the relative cost of traversing <strong>through</strong> a cell 
is less than the cost of going around it. If the cost of going around a 
cell is less than going through it, the algorithm uses the quadratic 
estimation to determine an approximate cost. </p> </div><div style="display: none;"><div><div class="clearfix"></div><div class="wmd-container"><div id="wmd-button-bar-2" class="wmd-panel"></div><textarea id="editor-2"></textarea><pre class="mirror"></pre><div class="on-state wmd-previewer-toggle">Preview: (hide)</div><div id="previewer-2" class="wmd-preview"></div></div></div></div> <div class="js-editable-controls"><button style="display: none;">save</button><button style="display: none;">cancel</button></div> </div> </div> <div class="answer-controls post-controls"> <span class="action-link">  </span> <span id="answer-offensive-flag-16891" class="action-link offensive-flag" title="report as offensive (i.e containing spam, advertising, malicious text, etc.)">  </span>  <span class="action-link"> <a class="permant-link" href="https://answers.ros.org/question/11388/navfn-algorism/?answer=16891#post-id-16891" title="permanent link">
        link
    </a> </span>  <script type="text/javascript">
    askbot['functions']['hideConvertAnswerLinks']('16891');
    askbot['functions']['hidePublishAnswerLink']('16891');
    askbot['functions']['renderPostControls']('16891');
</script> </div> <h2 class="comment-title">Comments</h2><div class="clean"></div><div class="comments ordering-forward" data-parent-post-type="answer" data-parent-post-id="16891"><div class="content"><div id="post-id-197474" class="comment js-comment" data-post-id="197474"><div class="comment-votes"><div id="comment-img-upvote-197474" class="upvote js-score">1</div><script type="text/javascript">
                askbot['functions']['renderPostVoteButtons']('comment', '197474');
            </script></div><div class="comment-content"><div class="comment-body"><p>Is
 there a name for this particular method? Like in the normal Dijkstra's 
algorithm (taking Euclidean distance from start &amp; goal to be the 
metric), there is no need to have the potential field with the 
traversabilitiy factor and the lowest neighbor and all that. What's this
 particular method called?</p></div><div class="comment-controls"><a class="js-avatar-box" href="https://answers.ros.org/users/18936/2ros0/"><img class="js-avatar gravatar" src="navfn%20algorism%20-%20ROS%20Answers%20%20Open%20Source%20Q&amp;A%20Forum-Dateien/Screenshot%2520from%25202014-08-19%2520200834.png" title="2ROS0" alt="2ROS0 gravatar image" width="16" height="16"></a><a class="author" href="https://answers.ros.org/users/18936/2ros0/">2ROS0</a><span class="age">&nbsp;(
    
        <abbr class="timeago" title="2014-11-14 13:59:33 -0600" style="display: inline;">Nov 14 '14</abbr>
    )</span></div></div></div><script type="text/javascript">
        askbot['functions']['hideConvertLinks']();
        askbot['functions']['renderPostControls']('197474');
    </script></div><div class="controls"><a class="js-open-editor-btn">add a comment</a></div></div> </div> <div class="clean"></div> </div> <div class="clean"></div> <div class="banner"> </div> <div class="pager"> </div> <div class="clean"></div> <div style="clear:both"></div> <h2>
    
        Your Answer
    
</h2> <p class="message"> <span class="strong big">Please start posting anonymously</span> - your entry will be published after you log in or create a new account.

    
</p> <div class="folded-editor" tabindex="6"> <p class="js-folded-editor-trigger"><a>Add Answer</a></p> <div class="editor-proper"> <form id="fmanswer" class="js-answer-form" action="/s/questions/11388/answer/" method="post" data-validated-fields="text" data-text-validator="askbot.validators.answerValidator"><input name="csrfmiddlewaretoken" value="uulkWAoPhhov2Vc2BRnAe4WWNiUZLsQJ" type="hidden"> <div class="js-error js-text-error"></div> <div class="form-group editor-placeholder"> </div> <div class="answer-options"> </div> <div> <script src="navfn%20algorism%20-%20ROS%20Answers%20%20Open%20Source%20Q&amp;A%20Forum-Dateien/api.js"></script> <script type="text/javascript">
    var DjangoRecaptchaOptions = {
  "lang": "en"
};
    if (typeof RecaptchaOptions !== 'object') {
        RecaptchaOptions = DjangoRecaptchaOptions;
    } else {
        for (key in DjangoRecaptchaOptions) {
            RecaptchaOptions[key] = DjangoRecaptchaOptions[key];
        }
    }
</script> <div class="g-recaptcha" data-sitekey="6LcpYfQSAAAAADDf1uspj3Ub4pfMrNfwSUMAVIlV"><div style="width: 304px; height: 78px;"><div><iframe src="navfn%20algorism%20-%20ROS%20Answers%20%20Open%20Source%20Q&amp;A%20Forum-Dateien/anchor.html" role="presentation" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox" width="304" height="78" frameborder="0"></iframe></div><textarea id="g-recaptcha-response" name="g-recaptcha-response" class="g-recaptcha-response" style="width: 250px; height: 40px; border: 1px solid #c1c1c1; margin: 10px 25px; padding: 0px; resize: none;  display: none; "></textarea></div></div> <noscript style="padding: 0px; background-color: transparent;">
 <div style="width: 302px; height: 352px;"> <div style="width: 302px; 
height: 352px; position: relative;"> <div style="width: 302px; height: 
352px; position: absolute;"> <iframe 
src="https://www.google.com/recaptcha/api/fallback?k=6LcpYfQSAAAAADDf1uspj3Ub4pfMrNfwSUMAVIlV"

                frameborder="0" scrolling="no"
                style="width: 302px; height:352px; border-style: none;">
 </iframe> </div> <div style="width: 250px; height: 80px; position: 
absolute; border-style: none;
                  bottom: 21px; left: 25px; margin: 0px; padding: 0px; 
right: 25px;"> <textarea id="g-recaptcha-response" 
name="g-recaptcha-response"
                  class="recaptcha_challenge_field"
                  style="width: 250px; height: 80px; border: 1px solid 
#c1c1c1;
                         margin: 0px; padding: 0px; resize: none;" 
value=""> </textarea> <input type='hidden' 
name='recaptcha_response_field' value='manual_challenge' /> </div> 
</div> </div> </noscript> </div> <div class="clearfix"></div> <input id="add-answer-btn" class="submit" value="Login/Signup to Post" type="submit"> <script type="text/javascript">
                askbot['functions']['renderAddAnswerButton']();
            </script> </form> </div> </div> </div> <div id="ContentRight"> <div class="box vote-buttons"> <h2>Question Tools</h2> <button class="js-follow-question button large off-state" data-is-on="false" data-off-prompt-text="Unfollow" data-on-prompt-text="Follow" data-on-state-text="Following" data-off-state-text="Follow" data-toggle-url="/s/toggle-follow-question/">Follow</button> <div class="clearfix"></div> <div class="js-question-follower-count">
        
        
            1 follower
        
    </div> <div class="notify-sidebar"> <p class="rss"> <a href="https://answers.ros.org/feeds/question/11388/" title="subscribe to the rss feed">subscribe to rss feed</a> </p> </div> </div> <div class="clearfix"></div> <div class="box statsWidget"> <div class="clearfix"></div> <h2>Stats</h2> <p>
        Asked: <strong> <abbr class="timeago" title="2011-10-01 17:31:12 -0600" style="display: inline;">Oct 2 '11</abbr> </strong> </p> <p> 
        Seen: <strong>2,661 times</strong> </p> <p>
        Last updated: <strong title="2011-10-03 02:15:56">Oct 03 '11</strong> </p> </div> <div class="box"> <h2>Related questions</h2> <div class="questions-related"> <p> <a href="https://answers.ros.org/question/121791/pruneplan-takes-occasionally-over-40-seconds/">prunePlan() takes occasionally over 40 seconds!</a> </p> <p> <a href="https://answers.ros.org/question/50855/how-to-make-the-robot-rotate-towards-the-path-direction/">how to make the robot rotate towards the path direction</a> </p> <p> <a href="https://answers.ros.org/question/36867/navfn-and-carrot-planner/">navfn and carrot planner?</a> </p> <p> <a href="https://answers.ros.org/question/45434/how-to-get-information-from-the-navfn-planner-execution/">How to get information from the navfn planner execution</a> </p> <p> <a href="https://answers.ros.org/question/157296/navfn-planning-through-wall/">navfn planning through wall</a> </p> <p> <a href="https://answers.ros.org/question/135806/how-to-correctly-include-navfnnavfn_rosh/">How to correctly include navfn/navfn_ros.h ?</a> </p> <p> <a href="https://answers.ros.org/question/197457/navfn-setting-up-cost-array-costarr-from-ross-costmap/">NavFn setting up cost array (costarr) from ROS's costmap</a> </p> <p> <a href="https://answers.ros.org/question/130541/tracking-robot-position-during-teleoperation/">Tracking robot position during teleoperation</a> </p> <p> <a href="https://answers.ros.org/question/29634/navfn-strange-behaviour/">Navfn strange Behaviour</a> </p> <p> <a href="https://answers.ros.org/question/11323/what-is-the-reasoning-behind-current-architecture-of-navigation-stack-move_base-the-way-it-is/">what is the reasoning behind current architecture of navigation stack (move_base), the way it is?</a> </p> </div> </div> <div class="box"> </div> </div> </div> <!-- template footer.html --> <div id="ground"> <div class="content-wrapper"> <div class="copyright"> <a href="http://creativecommons.org/licenses/by-sa/3.0/legalcode"> <img class="license-logo" src="navfn%20algorism%20-%20ROS%20Answers%20%20Open%20Source%20Q&amp;A%20Forum-Dateien/cc-by-sa.png" title="cc-by-sa" alt="cc-by-sa"> </a>
                
                ROS Answers is licensed under Creative Commons Attribution 3.0 Content on this site is licensed under a <a href="http://creativecommons.org/licenses/by-sa/3.0/legalcode">Creative Commons Attribution Share Alike 3.0</a> license.

            </div> <div class="footer-links"> <a href="https://answers.ros.org/about/">about</a><span class="link-separator"> |</span> <a href="https://answers.ros.org/faq/">faq</a><span class="link-separator"> |</span> <a href="https://answers.ros.org/help/" title="help">help</a> <span class="link-separator"> |</span> <a href="https://answers.ros.org/privacy/">privacy policy</a><span class="link-separator"> |</span> <a href="https://answers.ros.org/terms/">terms of service</a> <span class="link-separator"> |</span> <a href="https://answers.ros.org/feedback/?next=/question/11388/navfn-algorism/">
                give feedback
            </a> </div> <div class="powered-link"> <a href="http://askbot.com/" target="_blank">
                Powered by Askbot version 0.7.58
            </a> </div> <div class="clean"></div> </div> </div> <!-- end template footer.html --> <div id="no-javascript"> <noscript class="noscript">
        Please note: ROS Answers requires javascript to work properly, 
please enable javascript in your browser, <a 
href="https://www.google.com/support/bin/answer.py?answer=23852">here is
 how</a> </noscript> <script type="text/javascript">
        //IE fix to hide the red margin
        var noscript = document.getElementsByTagName('noscript')[0];
        noscript.style.padding = '0px';
        noscript.style.backgroundColor = 'transparent';
    </script> </div> <script type="text/javascript">
    askbot['urls']['mark_read_message'] = '/s/messages/markread/';
    askbot['urls']['get_tags_by_wildcard'] = '/s/get-tags-by-wildcard/';
    askbot['urls']['get_tag_list'] = '/s/get-tag-list/';
    askbot['urls']['follow_user'] = '/followit/follow/user/{{userId}}/';
    askbot['urls']['unfollow_user'] = '/followit/unfollow/user/{{userId}}/';
    askbot['urls']['user_signin'] = '/account/signin/';
    askbot['urls']['getEditor'] = '/s/get-editor/';
    
    askbot['urls']['apiGetQuestions'] = '/s/api/get_questions/';
    askbot['urls']['ask'] = '/questions/ask/';
	askbot['urls']['questions'] = '/questions/';
    askbot['settings']['groupsEnabled'] = false;
    askbot['settings']['static_url'] = '/m/';
    askbot['settings']['minSearchWordLength'] = 3;
    askbot['settings']['mathjaxEnabled'] = false;
    askbot['settings']['sharingSuffixText'] = '';
    askbot['settings']['errorPlacement'] = 'after-label';
    askbot['data']['maxCommentLength'] = 300;
    askbot['settings']['editorType'] = 'markdown';
    
    askbot['settings']['commentsEditorType'] = 'rich\u002Dtext';
    askbot['messages']['askYourQuestion'] = 'Ask Your Question';
    askbot['messages']['acceptOwnAnswer'] = 'accept or unaccept your own answer';
    askbot['messages']['followQuestions'] = 'follow questions';
    
        askbot['settings']['allowedUploadFileTypes'] = [
            "jpg", "jpeg", "gif", "bmp", "png", "tiff"
        ];
    
    askbot['data']['haveFlashNotifications'] = false;
    askbot['data']['activeTab'] = 'questions';
    askbot['settings']['csrfCookieName'] = '_csrf';
    
        askbot['data']['searchUrl'] = '';
    
</script> <script type="text/javascript" src="navfn%20algorism%20-%20ROS%20Answers%20%20Open%20Source%20Q&amp;A%20Forum-Dateien/8227174696ea.js"></script> <script type="text/javascript">
    /*<![CDATA[*/
    $('.mceStatusbar').remove();//a hack to remove the tinyMCE status bar
    $(document).ready(function(){
        // focus input on the search bar endcomment
        var activeTab = askbot['data']['activeTab'];
        if (inArray(activeTab, ['users', 'questions', 'tags', 'badges'])) {
            var searchInput = $('#keywords');
        } else if (activeTab === 'ask') {
            var searchInput = $('#id_title');
        } else {
            var searchInput = undefined;
            animateHashes();
        }

        if (searchInput) {
            searchInput.focus();
            putCursorAtEnd(searchInput);
        }

        var haveFullTextSearchTab = inArray(activeTab, ['questions', 'badges', 'ask']);
        var haveUserProfilePage = $('body').hasClass('user-profile-page');
        if ((haveUserProfilePage || haveFullTextSearchTab) && searchInput && searchInput.length) {
            var search = new FullTextSearch();
            askbot['controllers'] = askbot['controllers'] || {};
            askbot['controllers']['fullTextSearch'] = search;
            search.setSearchUrl(askbot['data']['searchUrl']);
            if (activeTab === 'ask') {
                search.setAskButtonEnabled(false);
            }
            search.decorate(searchInput);
        } else if (activeTab === 'tags') {
            var search = new TagSearch();
            search.decorate(searchInput);
        }

        if (askbot['data']['userIsAdminOrMod']) {
            $('body').addClass('admin');
        }
        if (askbot['settings']['groupsEnabled']) {
            askbot['urls']['add_group'] = "/s/add-group/";
            var group_dropdown = new GroupDropdown();
            $('.groups-dropdown').append(group_dropdown.getElement());
        }
        var userRep = $('#userToolsNav .reputation');
        if (userRep.length) {
            var showPermsTrigger = new ShowPermsTrigger();
            showPermsTrigger.decorate(userRep);
        }
    });
    if (askbot['data']['haveFlashNotifications']) {
        $('#validate_email_alert').click(function(){notify.close(true)})
        notify.show();
    }

    var langNav = $('.lang-nav');
    if (langNav.length) {
        var nav = new LangNav();
        nav.decorate(langNav);
    }
    /*]]>*/
</script> <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? 
"https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + 
"google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="navfn%20algorism%20-%20ROS%20Answers%20%20Open%20Source%20Q&amp;A%20Forum-Dateien/ga.js" type="text/javascript"></script> <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker('UA-17821189-3');
    pageTracker._trackPageview();
    } catch(err) {}
</script> <div class="js-templates" style="display: none;"><div id="post-id-0" class="comment js-comment" data-post-id="0"><div class="comment-votes"><div id="comment-img-upvote-0" class="upvote js-score"></div></div><div class="comment-content"><div id="post-0-delete" class="comment-delete"><span class="js-delete-icon" title="delete this comment"></span></div><div class="comment-body"></div><div class="comment-controls"><a class="js-avatar-box" href=""><img class="js-avatar gravatar" src="" title="" alt=" gravatar image" width="16" height="16"></a><a class="author" href=""></a><span class="age">&nbsp;(
    
        <abbr class="timeago" title="2017-11-30 04:03:05 -0600">2017-11-30 04:03:05 -0600</abbr>
    )</span><a id="post-0-edit" class="js-edit">edit</a><form action="/s/comment/convert/" method="POST" accept-charset="utf-8" class="convert-comment"><input name="csrfmiddlewaretoken" value="None" type="hidden"><input value="0" name="comment_id" type="hidden"><input value="convert to answer" type="submit"></form></div></div></div><div class="js-simple-editor"><textarea></textarea><pre class="mirror"></pre></div><div class="js-tag  js-deletable-tag"><a class="js-tag-name" rel="tag" href="https://answers.ros.org/questions/scope:all/sort:activity-desc/tags:none/page:1/" data-tag-name="none">none</a><span class="js-delete-icon">×</span></div></div> <script type="text/javascript">
        
        askbot['urls']['postComments'] = '/s/post_comments/';
        askbot['urls']['editComment'] = '/s/edit_comment/';
        askbot['urls']['deleteComment'] = '/s/comment/delete/';
        askbot['urls']['convertComment'] = '/s/comment/convert/';
        askbot['urls']['getComment'] = '/s/comment/get-text/';
        askbot['urls']['saveDraftAnswer'] = '/s/save-draft-answer/';
        askbot['urls']['vote_url'] = '/s/vote'
        askbot['urls']['user_signin'] = '/account/signin/';
        askbot['urls']['upvote_comment'] = '/s/comment/upvote/';
        askbot['urls']['delete_post'] = '/s/post/delete/';
        askbot['urls']['get_html_template'] = '/s/get-html-template/';
        askbot['urls']['getGroupsList'] = '/s/get-groups-list/';
        askbot['urls']['publishAnswer'] = '/s/answer/publish/';
        askbot['urls']['apiV1Questions'] = '/api/v1/questions/';
        askbot['urls']['mergeQuestions'] = '/s/merge-questions/';
        
        askbot['data']['questionAuthorId'] = 1151;
        askbot['data']['answersSortTab'] = 'votes';
        askbot['data']['questionId'] = 11388;
        askbot['data']['threadSlug'] = 'navfn-algorism';
        askbot['messages']['addComment'] = 'add a comment';
        askbot['messages']['userNamePrompt'] = 'User name:';
        askbot['messages']['userEmailPrompt'] = 'Email address:';
        askbot['messages']['mergeQuestions'] = 'Merge duplicate questions';
        askbot['messages']['enterDuplicateQuestionId'] = 'Enter duplicate question ID';
        
        askbot['settings']['saveCommentOnEnter'] = false;
        askbot['settings']['tagSource'] = 'user-input';
        askbot['settings']['enableSharingGoogle'] = true;
        askbot['settings']['enableEmailAlerts'] = true;
    </script> <script type="text/javascript">
    
    askbot['settings']['tagsAreRequired'] = true
    askbot['settings']['maxTagLength'] = 40;
    askbot['messages']['maxTagLength'] = "each tag must be shorter than 
40 characters";
    askbot['settings']['maxTagsPerPost'] = 500;
    askbot['messages']['maxTagsPerPost'] = "please use 500 tags or 
less";
    askbot['messages']['tagLimits'] = "please use up to 500 tags, less 
than 40 characters each";
    askbot['urls']['upload'] = '/s/upload/';
    askbot['settings']['minTitleLength'] = 10;
    askbot['settings']['minQuestionBodyLength'] = 10;
    askbot['settings']['minAnswerBodyLength'] = 10;
    askbot['settings']['minCommentBodyLength'] = 10;
    askbot['settings']['tag_editor'] = 
'{\u0022tag_forbidden_first_chars\u0022: \u0022#\u0022, 
\u0022max_tag_length\u0022: 40, \u0022force_lowercase_tags\u0022: false,
 \u0022max_tags_per_post\u0022: 500, \u0022messages\u0022: 
{\u0022wrong_first_char\u0022: \u0022# is not a valid character at the 
beginning of tags, use only letters and numbers\u0022, 
\u0022wrong_chars\u0022: \u0022please use letters, numbers and 
characters \u005C\u0022\u002D+.#\u005C\u0022\u0022, 
\u0022required\u0022: \u0022tags are required\u0022}, 
\u0022tags_are_required\u0022: true}';
    askbot['settings']['tinyMCEPlugins'] = JSON.parse('[]');
</script> <script type="text/javascript">
    (function() {
        askbot['settings']['commentsReversed'] = false;
        //make images always fit the screen
        var images = $('.question-page .post-body img');
        //these breakpoints must match those in css
        //for explanation see utils.js:LimitedWidthImage
        var breakpoints = [
            [980, undefined],
            [800, 55]
        ];
        var maxWidth = 685;
        images.each(function(idx, item) {
            var img = new LimitedWidthImage(breakpoints, maxWidth);
            img.decorate($(item));
        });
    })();
</script> <script type="text/javascript" src="navfn%20algorism%20-%20ROS%20Answers%20%20Open%20Source%20Q&amp;A%20Forum-Dateien/9fd5d43b00dc.js"></script> <script type="text/javascript">
    // define reputation needs for comments
    askbot['urls']['getPostHtml'] = '/s/get-post-html/';
    askbot['urls']['retag'] = "/s/questions/11388/retag/";

    
    
    askbot['settings']['commentAvatarSize'] = 16;

    $(document).ready(function(){
        $("#nav_questions").attr('className',"on");
        $("#" + askbot['data']['answersSortTab']).attr('className',"on");

        Vote.init(
            askbot['data']['questionId'],
            askbot['data']['threadSlug'],
            askbot['data']['questionAuthorId'],
            askbot['data']['userId']
        );

        if ((askbot['data']['threadIsClosed'] === false) && askbot['data']['userIsAuthenticated']) {
            initEditor();
        }

        lanai.highlightSyntax();
        $('#btLogin').bind('click', function(){
            window.location.href='/account/signin/';
        });
        if (window.location.hash === 'fmanswer'){
            $('#fmanswer textarea').focus();
        }

        if (askbot['settings']['enableSharingGoogle']) {
            $.getScript("//apis.google.com/js/plusone.js");
        }

        if (askbot['data']['userId'] === askbot['data']['questionAuthorId']) {
            $("#fmanswer_button").click(function() {
                $("#fmanswer").show();
                $("#fmanswer_button").hide();
            });
        }

        if (askbot['data']['userIsAuthenticated']) {
            var draftHandler = new DraftAnswer();
            draftHandler.setThreadId(2356);
            draftHandler.decorate($('body'));
        }

        var expanders = $('.expander');
        expanders.each(function(idx, item) {
            var expanderElement = $(item);
            var post = expanderElement.closest('.post,.comment');
            if (post.length === 1) {
                var expander = new PostExpander();
                expander.setPostId(post.data('postId'));
                expander.decorate(expanderElement);
            }
        });

        var followBtn = $('.js-follow-question');
        if (followBtn.length) {
            var toggle = new AjaxToggle();
            toggle.setPostData({'question_id': 11388 });
            toggle.decorate(followBtn);
            followBtn.bind('askbot.two-state-toggle.success', updateQuestionFollowerCount);
        }
    });

    $(window).bind('hashchange', animate_hashes);

    function animate_hashes(){
      var id_value = window.location.hash;
      if (id_value != ""){
        var previous_color = $(id_value).css('background-color');
        $(id_value).css('backgroundColor', '#FFF8C6');
        $(id_value).animate(
            {backgroundColor: '#ff7f2a'}, 1000
        ).animate({backgroundColor: '#FFF8C6'}, 1000, function(){
            $(id_value).css('backgroundColor', previous_color);
        });
      }
    }


    function initEditor(){
        $('#editor').TextAreaResizer();
        //highlight code synctax when editor has new text
        $("#editor").typeWatch({highlight: false, wait: 3000,
                         captureLength: 5, callback: lanai.highlightSyntax});

        var display = true;
        var txt = "[hide preview]";
        $('#pre-collapse').text(txt);
        $('#pre-collapse').bind('click', function(){
            txt = display ? "[show preview]" : "[hide preview]";
            display = !display;
            $('#previewer').toggle();
            $('#pre-collapse').text(txt);
        });
        var formElement = $('.js-answer-form');
        if (formElement.length) {
            var answerForm = new AnswerForm();
            answerForm.decorate(formElement);
        }
    }
</script> <script type="text/javascript">
            for (url_name in askbot['urls']){
                askbot['urls'][url_name] = cleanUrl(askbot['urls'][url_name]);
            }
        </script>  <iframe name="oauth2relay384895921" id="oauth2relay384895921" src="navfn%20algorism%20-%20ROS%20Answers%20%20Open%20Source%20Q&amp;A%20Forum-Dateien/postmessageRelay.html" style="width: 1px; height: 1px; position: absolute; top: -100px;" tabindex="-1" aria-hidden="true"></iframe><div style="background-color: #fff; border: 1px solid #ccc; box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.2); position: absolute; left: 0px; top: -10000px; transition: visibility 0s linear 0.3s, opacity 0.3s linear; opacity: 0; visibility: hidden; z-index: 2000000000;"><div style="width: 100%; height: 100%; position: fixed; top: 0px; left: 0px; z-index: 2000000000; background-color: #fff; opacity: 0.05;  filter: alpha(opacity=5)"></div><div class="g-recaptcha-bubble-arrow" style="border: 11px solid transparent; width: 0; height: 0; position: absolute; pointer-events: none; margin-top: -11px; z-index: 2000000000;"></div><div class="g-recaptcha-bubble-arrow" style="border: 10px solid transparent; width: 0; height: 0; position: absolute; pointer-events: none; margin-top: -10px; z-index: 2000000000;"></div><div style="z-index: 2000000000; position: relative;"><iframe title="recaptcha challenge" src="navfn%20algorism%20-%20ROS%20Answers%20%20Open%20Source%20Q&amp;A%20Forum-Dateien/bframe.html" style="width: 100%; height: 100%;" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox" name="e9ppxadbf8wn" frameborder="0"></iframe></div></div></body></html>